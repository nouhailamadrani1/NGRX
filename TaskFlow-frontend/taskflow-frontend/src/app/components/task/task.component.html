<div class="m-4 p-4">
  <!-- task.component.html -->
<div *ngIf="loading$ | async" class="alert alert-info">Loading...</div>
<div *ngIf="error$ | async as error" class="alert alert-danger">{{ error }}</div>
<a class="btn btn-primary mt-3" routerLink="form">Create New Task</a>
<div class="d-flex">vc
  <div class="flex-fill">
    <h4 class="mt-3 mb-3">In Progress</h4>
    <ul *ngIf="(tasks$ | async) as tasks" class="list-group">
      <ng-container *ngFor="let task of tasks">
        <li *ngIf="task.status === 'IN_PROGRESS'" class="list-group-item list-group-item-white d-flex justify-content-between align-items-center">
          <div>
            <span class="fw-bold">{{ task.title }}</span>
            <br>
            <small class="text-success">Start Date: {{ task.startDate | date: 'medium' }}</small>
            <br>
            <small>{{ task.description.substring(0, 40) }}...</small>
          </div>
          <div>
            <button class="btn btn-danger btn-sm me-2" (click)="deleteTask(task)">Delete</button>
            <button class="btn btn-primary btn-sm" (click)="updateTask(task)">Update</button>
          </div>
        </li>
      </ng-container>
    </ul>
    <div *ngIf="!hasTasksInProgress()" class="mt-3 text-muted">No tasks in progress.</div>
  </div>

  <div class="flex-fill mx-3">
    <h4 class="mt-3 mb-3">Uncompleted</h4>
    <ul *ngIf="(tasks$ | async) as tasks" class="list-group">
      <ng-container *ngFor="let task of tasks">
        <li *ngIf="task.status === 'UNCOMPLETED'" class="list-group-item list-group-item-white d-flex justify-content-between align-items-center">
          <div>
            <span class="fw-bold">{{ task.title }}</span>
            <br>
            <small class="text-success">Start Date: {{ task.startDate | date: 'medium' }}</small>
            <br>
            <small>{{ task.description.substring(0, 40) }}...</small>
          </div>
          <div>
            <button class="btn btn-danger btn-sm me-2" (click)="deleteTask(task)">Delete</button>
            <button class="btn btn-primary btn-sm" (click)="updateTask(task)">Update</button>
          </div>
        </li>
      </ng-container>
    </ul>
    <div *ngIf="!hasUncompletedTasks()" class="mt-3 text-muted">No uncompleted tasks.</div>
  </div>

  <div class="flex-fill">
    <h4 class="mt-3 mb-3">Completed</h4>
    <ul *ngIf="(tasks$ | async) as tasks" class="list-group">
      <ng-container *ngFor="let task of tasks">
        <li *ngIf="task.status === 'COMPLETED'" class="list-group-item list-group-item-white d-flex justify-content-between align-items-center">
          <div>
            <span class="fw-bold">{{ task.title }}</span>
            <br>
            <small class="text-success">Start Date: {{ task.startDate | date: 'medium' }}</small>
            <br>
            <small>{{ task.description.substring(0, 40) }}...</small>
          </div>
          <div>
            <button class="btn btn-danger btn-sm me-2" (click)="deleteTask(task)">Delete</button>
            <button class="btn btn-primary btn-sm" (click)="updateTask(task)">Update</button>
          </div>
        </li>
      </ng-container>
    </ul>
    <div *ngIf="!hasCompletedTasks()" class="mt-3 text-muted">No completed tasks.</div>
  </div>
</div>



</div>